<!DOCTYPE html>
<html>
<head>
    <title>Supabase Demo Test</title>
</head>
<body>
    <h1>Supabase Demo Test</h1>
    <button onclick="testSubmission()">Test Customer Submission</button>
    <div id="result"></div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="supabase-config.js"></script>
    <script>
        async function testSubmission() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = 'Testing...';
            
            try {
                const testData = {
                    cust_name: 'Test User',
                    cust_phone: '9876543210',
                    cust_email: 'test@example.com',
                    cust_city: 'Mumbai',
                    cust_service: 'Plumbing',
                    cust_specific_service: 'Pipe Repair',
                    cust_specific_other: '',
                    cust_budget: '5000-10000',
                    cust_timeline: 'Within a week',
                    cust_visit: '2025-01-15',
                    cust_description: 'Test submission'
                };
                
                const success = await submitCustomerToSupabase(testData);
                resultDiv.innerHTML = success ? '✅ Demo mode working! Submission successful.' : '❌ Submission failed';
            } catch (error) {
                resultDiv.innerHTML = '❌ Error: ' + error.message;
            }
        }
    </script>
</body>
</html>
